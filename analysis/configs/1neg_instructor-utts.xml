<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:util="http://www.springframework.org/schema/util"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
	http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
	http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

	<import
		resource="classpath:se/kth/speech/coin/tangrams/analysis/features/words_as_classifiers/cross_validation/context.xml" />

	<beans>
		<description>Finds one random negative example for each positive
			example. For each dialogue, the only utterances used for training and
			testing are those which were made by the instructor for the turn
			which the dialogue has as a context.</description>

		<bean id="random-generator" class="java.util.Random">
			<description>The random number generator used in the application;
				Provide an explicit seed below in order to make the results
				reproducible from one run to the next.
			</description>
			<constructor-arg value="1" />
		</bean>

		<bean id="smoother"
			class="se.kth.speech.coin.tangrams.analysis.features.words_as_classifiers.WordClassDiscountingSmoother">
			<constructor-arg value="4" />
			<constructor-arg value="__OUT_OF_VOCAB__" />
		</bean>

		<bean id="dialogue-classifier"
			class="se.kth.speech.coin.tangrams.analysis.features.words_as_classifiers.diags.IsolatedUtteranceEventDialogueClassifier"
			scope="prototype">
		</bean>

		<bean id="dialogue-transformer" class="se.kth.speech.coin.tangrams.analysis.features.words_as_classifiers.diags.CachingEventDialogueTransformer">
			<constructor-arg>
				<bean class="se.kth.speech.coin.tangrams.analysis.features.words_as_classifiers.diags.InstructorUtteranceFilteringEventDialogueTransformer">
					<description>For each dialogue, the only utterances used for training and
			testing are those which were made by the instructor for the turn
			which the dialogue has as a context.</description>
				</bean>
			</constructor-arg>
		</bean>
		
		<bean id="training-insts-factory" class="se.kth.speech.coin.tangrams.analysis.features.words_as_classifiers.training.OnePositiveOneNegativeInstanceFactory">
				<description>Finds one random negative example for each positive example.</description>
				<constructor-arg ref="dialogue-transformer" />
				<constructor-arg ref="random-generator" />
		</bean>

		<bean id="cross-validation-tester"
			class="se.kth.speech.coin.tangrams.analysis.features.words_as_classifiers.cross_validation.Tester">
			<constructor-arg ref="dialogue-transformer" />
		</bean>
	</beans>
</beans>